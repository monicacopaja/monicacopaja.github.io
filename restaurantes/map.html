<html>

<head>
    <title>RUTA CEVICHE</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link href="css/map.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Muli|Raleway:400,600,800,700,900" rel="stylesheet">
    <script async defer src="https://maps.googleapis.com/maps/api/js?v=quarterly&key=AIzaSyBFEuavnnQ0FewZiYPAW5Eq9PSFs_ozaZQ&callback=initialize"></script>   
</script>
    <script type="text/javascript">
        var directionsDisplay,
            directionsService,
            map;
        var mapCenter = { lat: 41.39, lng: 2.17 };

        function initialize() {
            var lineSymbol = {
                path: google.maps.SymbolPath.CIRCLE,
                fillOpacity: 0.8,
                scale: 2.5
            };
            var directionsService = new google.maps.DirectionsService();
            var directionsDisplay = new google.maps.DirectionsRenderer({
                polylineOptions: {
                    strokeColor: "#808080",
                    strokeOpacity: 0,
                    fillOpacity: 0,
                    icons: [{
                        icon: lineSymbol,
                        offset: '0',
                        repeat: '8px'
                    }],
                },
                markerOptions: {
                    visible: false
                },
            });
            var mapOptions = {
                zoom: 14,
                center: new google.maps.LatLng(mapCenter.lat, mapCenter.lng),
                disableDefaultUI: true,
                backgroundColor: '#000000',
                styles: [
                    { elementType: 'geometry', stylers: [{ color: '#252525' }] },
                    { elementType: 'labels.text.stroke', stylers: [{ visibility: 'off' }] },
                    { elementType: 'labels.text.fill', stylers: [{ color: '#454545' }] },
                    { featureType: 'poi', elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },
                    { featureType: 'poi.park', elementType: 'geometry', stylers: [{ color: '#151515' }] },
                    { featureType: 'road', elementType: 'geometry', stylers: [{ color: '#101010' }] },
                    { featureType: 'road', elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },
                    { featureType: 'transit', elementType: 'geometry', stylers: [{ visibility: 'off' }] },
                    { featureType: 'transit', elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },
                    { featureType: 'transit', elementType: 'labels.text.fill', stylers: [{ visibility: 'off' }] },
                    { featureType: 'water', elementType: 'geometry', stylers: [{ color: '#000000' }] },
                ]
            };

            map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

            var waypts = [{ location: { lat: 41.3867, lng: 2.1968 }, stopover: true }, //Ají : 0
            { location: { lat: 41.3821, lng: 2.1882 }, stopover: true }, //Toya : 1
            { location: { lat: 41.3719, lng: 2.1656 }, stopover: true }, //Lascar : 2
            { location: { lat: 41.3789, lng: 2.1631 }, stopover: true }, //Mistura : 3
            { location: { lat: 41.3744, lng: 2.1545 }, stopover: true }, //Pakta : 4
            { location: { lat: 41.3775, lng: 2.1262 }, stopover: true }, //La Chacana : 5
            { location: { lat: 41.3863, lng: 2.1485 }, stopover: true }, //Panko : 6
            { location: { lat: 41.3904, lng: 2.1598 }, stopover: true }, //Yakumanka : 7
            { location: { lat: 41.3930, lng: 2.1578 }, stopover: true }, //El Dorado : 8
            { location: { lat: 41.4063, lng: 2.1524 }, stopover: true } //Toma Ya : 9
            ];

            var markers = [{ lat: 41.4063, lng: 2.1524, name: 'Toma Ya Street Food', adress: 'Nil Fabra, 34-36, Gràcia', img: 'images/map/tomaya.jpg', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'affordable', route: 'routes/tomaya.html', link: 'pages/tomaya.html' },
            { lat: 41.3821, lng: 2.1882, name: 'Toya by David Villanueva', adress: 'Balboa, 14, Barceloneta', img: 'images/map/toya.jpg', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'affordable', route: 'routes/toya.html' },
            { lat: 41.3789, lng: 2.1631, name: 'Mistura Barcelona', adress: 'Ronda de Sant Antoni, 1-3, San Antoni', img: 'images/map/mistura.jpg', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'affordable', route: 'routes/mistura.html' },
            { lat: 41.3930, lng: 2.1578, name: 'El Dorado Chicken', adress: 'Balmes, 122, Eixample', img: 'images/map/dorado.jpg', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'affordable', route: 'routes/dorado.html' },
            { lat: 41.3775, lng: 2.1262, name: 'La Chacana', adress: 'Portbou, 49, Sants-Badal', img: 'images/map/chacana.jpg', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'affordable', route: 'routes/chacana.html' },
            { lat: 41.3904, lng: 2.1598, name: 'Yakumanka', adress: 'València, 207, Eixample', img: 'images/map/yakumanka.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/yakumanka.html', link: 'pages/yakumanka.html' },
            { lat: 41.3719, lng: 2.1656, name: 'Lascar BCN', adress: 'Roser, 74, Poble Sec', img: 'images/map/lascar.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/lascar.html' },
            { lat: 41.3863, lng: 2.1485, name: 'Panko', adress: 'Viladomat, 249, Eixample', img: 'images/map/panko.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/panko.html' },
            { lat: 41.3744, lng: 2.1545, name: 'Pakta', adress: 'Lleida, 5, Poble Sec', img: 'images/map/pakta.jpg', stars: 'icons/stars_5.png', price: 'icons/price_4.png', type: 'expensive', route: 'routes/pakta.html' },
            { lat: 41.3867, lng: 2.1968, name: 'Ají', adress: 'Marina, 19, Vila Olímpica', img: 'images/map/aji.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/aji.html' },
            { lat: 41.4039, lng: 2.1820, name: 'Ache Pa Ti', adress: 'Castillejos, 208, Sagrada Familia', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3831, lng: 2.1366, name: 'Al Carbón', adress: 'Caballero, 50, Les Corts', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4076, lng: 2.1739, name: 'Andino', adress: 'Còrsega, 589, Sagrada Familia', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3733, lng: 2.1479, name: 'Barranco Cuina Peruana', adress: 'Mèxic, 5, Sants-Montjüic', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3861, lng: 2.1841, name: 'Big Kokka', adress: 'Passatge Mercantil, 1, El Born', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3899, lng: 2.1951, name: 'Café Ninoska', adress: 'Icària, 131, Vila Olímpica', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3936, lng: 2.1507, name: 'Ceviche 103', adress: 'Londres, 103, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3776, lng: 2.0817, name: 'Cuchara Brava', adress: 'Anton Fortuny, 6, Esplugues', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4123, lng: 2.1705, name: 'El Chalaco', adress: 'Castillejos, 397, El Guinardò', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3825, lng: 2.1470, name: 'El Rincón Peruano', adress: 'Entença, 146, Eixample', stars: 'icons/stars_3.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3740, lng: 2.1365, name: 'El Rocoto', adress: 'Olzinelles 13, Sants', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4108, lng: 2.1812, name: 'El Ruedo', adress: 'Rosselló, 540, El Clot', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4085, lng: 2.1750, name: 'El Señorío del Perú', adress: 'Còrsega, 607, Sagrada Familia', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.4109, lng: 2.1791, name: 'El Xukís', adress: 'Independència, 353, El Clot', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3686, lng: 2.1426, name: 'Huanchaco Beach', adress: 'Sant Fructuós, 133, Sants-Montjüic', stars: 'icons/stars_3.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4067, lng: 2.1807, name: 'Imperia', adress: 'Cartagena, 220, Eixample', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4287, lng: 2.1802, name: 'Inka Barcelona', adress: 'Escòcia, 62, La Sagrera', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3879, lng: 2.1444, name: 'Kenko', adress: 'Calàbria, 280, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.4082, lng: 2.1807, name: 'Kenko II', adress: 'Dos de Maig, 250, Sagrada Familia', stars: 'icons/stars_3.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3808, lng: 2.1773, name: 'Kokka Barcelona', adress: 'Avinyó, 30, El Gòtic', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3883, lng: 2.2011, name: 'La Barca de Salamanca', adress: 'Moll de Gregal, 17, Vila Olímpica', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4024, lng: 2.1761, name: 'La Brasa Roja', adress: 'València, 433, Sagrada Familia', stars: 'icons/stars_3.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3757, lng: 2.1399, name: 'La Flor de la Canela', adress: 'Watt, 8, Sants', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3847, lng: 2.1480, name: 'La Limeñita', adress: 'Provença, 61, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3955, lng: 2.1485, name: 'La Sanguchería', adress: 'Travessera de Gràcia, 45, Sarrià-Sant Gervasi', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3761, lng: 2.1250, name: 'La Turuleca', adress: 'Arizala, 5, Sants-Badal', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3958, lng: 2.1820, name: 'Las 4 Estaciones', adress: 'Ribes, 37, Fort Pienc', stars: 'icons/stars_3.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3819, lng: 2.1519, name: 'Las Tejas', adress: 'Calàbria, 155, Eixample', stars: 'icons/stars_3.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4023, lng: 2.1690, name: 'Lima Limón', adress: 'Rosselló, 361, Gràcia', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3740, lng: 2.1283, name: 'Los Mundiales', adress: 'Sugranyes, 38, Sants-Badal', stars: 'icons/stars_3.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3802, lng: 2.1556, name: 'Máncora', adress: 'Gran Via de les Corts Catalanes, 479, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3764, lng: 2.1204, name: 'Masato', adress: '11 de Setembre, 27, L\'Hospitalet', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4067, lng: 2.1841, name: 'Miguelón Sabor Peruano', adress: 'Aragó, 545, El Clot', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3845, lng: 2.1552, name: 'Misky Peruvian Restobar', adress: 'Comte d\'Urgell, 111, Eixample', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3798, lng: 2.1548, name: 'Mochica-Calàbria', adress: 'Calàbria, 103, Eixample', stars: 'icons/stars_3.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3842, lng: 2.1556, name: 'Mochica-Urgell', adress: 'Comte d\'Urgell, 99, Eixample', stars: 'icons/stars_3.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3873, lng: 2.1604, name: 'Nikkei 103', adress: 'Aribau, 33, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3740, lng: 2.1572, name: 'Pacífico y Sur', adress: 'Vallhonrat, 19, Poble Sec', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3991, lng: 2.1600, name: 'Paititi', adress: 'Martínez de la Rosa, 10, Gràcia', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3820, lng: 2.1493, name: 'Pata Salada', adress: 'València, 78, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3815, lng: 2.1779, name: 'Peimong', adress: 'Templers, 6, El Gòtic', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4033, lng: 2.1785, name: 'Perucho', adress: 'Lepant, 254, Sagrada Familia', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3930, lng: 2.1692, name: 'Riko\'s', adress: 'Roger de Llúria, 54, Eixample', stars: 'icons/stars_3.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3736, lng: 2.1441, name: 'Santa Ceviche', adress: 'Hostafrancs de Sió, 11, Hostafrancs', img: 'images/blank.jpg', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3913, lng: 2.1666, name: 'Terrat by Gastón Acurio', adress: 'Passeig de Gràcia, 38-40, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_4.png', type: 'normal' },
            { lat: 41.3978, lng: 2.1573, name: 'The Market Perú', adress: 'Gran de Gràcia, 7, Gràcia', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3921, lng: 2.1533, name: 'Totora', adress: 'Còrsega, 235, Eixample', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' }
            ];

            for (i = 0; i <= 4; i++) {
                bajo(markers[i]);
            }

            for (i = 5; i <= 9; i++) {
                alto(markers[i]);
            }

            for (i = 10; i < markers.length; i++) {
                simple(markers[i]);
            }

            var routeButton = document.getElementById('routeButton');
            map.controls[google.maps.ControlPosition.LEFT_TOP].push(routeButton);

            google.maps.event.addDomListener(routeButton, 'click', function () {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var latitude = position.coords.latitude;
                    var longitude = position.coords.longitude;
                    var coords = new google.maps.LatLng(latitude, longitude);
                    var content = '<p class="locationWindow">' + "Tu ubicación" + '</p>';
                    var infoWindow = new google.maps.InfoWindow({ map: map });
                    infoWindow.setPosition(coords);
                    infoWindow.setContent(content);
                    window.setTimeout(function () { infoWindow.close() }, 2000);
                    var icon = {
                        url: 'icons/location.png',
                        scaledSize: new google.maps.Size(24, 30),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(12, 30)
                    };
                    var marker = new google.maps.Marker({
                        position: coords,
                        map: map,
                        title: name,
                        icon: icon
                    });

                    marker.addListener('click', function () {
                        var infoWindow = new google.maps.InfoWindow({ map: map });
                        infoWindow.setPosition(coords);
                        infoWindow.setContent(content);
                    });

                    var createRoute = directionsService.route({
                        origin: coords,
                        destination: coords,
                        waypoints: waypts,
                        optimizeWaypoints: true,
                        travelMode: google.maps.TravelMode.WALKING
                    }, function (response, status) {
                        directionsDisplay.setDirections(response);
                        directionsDisplay.setMap(map);
                    });

                    map.addListener('click', function () {
                        infoWindow.close();
                        map.setZoom(14);
                        map.setCenter(mapCenter);
                        directionsDisplay.setMap(null);
                    });
                });
            });

            var legend = document.getElementById('legend');
            map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(legend);
        }

        function bajo(pinfo) {
            var point = new google.maps.LatLng(pinfo.lat, pinfo.lng);
            var name = pinfo.name;
            var icons = {
                url: 'icons/affordable.png',
                scaledSize: new google.maps.Size(24, 30),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(12, 30)
            };
            var marker = new google.maps.Marker({
                position: point,
                map: map,
                title: name,
                icon: icons
            });
            var infoWindow = new google.maps.InfoWindow({
                map: map,
                maxHeight: 260,
                minWidth: 260,
                shadowStyle: 0,
                pixelOffset: new google.maps.Size(0, 35),
                padding: 0,
                borderRadius: 0,
                arrowSize: 9,
                borderWidth: 0,
                borderColor: '#ffffff',
                disableAutoPan: true,
                hideCloseButton: true,
                arrowPosition: 50,
                arrowStyle: 0
            });

            var content = '<div id="infoW-container-value">' +
                '<p class="img-box"><img class="rest-img" src="' + pinfo.img + '"/></p>' +
                '<h3><a href="' + pinfo.link + '" target="_blank">' + pinfo.name + '</a></h3>' +
                '<p class="adress-text">' + pinfo.adress + '</p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.stars + '"/></p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.price + '"/></p>' +
                '<p class="route-box"><a href="' + pinfo.route + '" target="_self"><img class="route-img" src="icons/route.png"/></a></p>' +
                '<p class="moreinfo-box"><a href="' + pinfo.link + '" target="_blank"><img class="moreinfo-img" src="icons/more_info.png"/></a></p>' +
                '</div>'

            var openListener = marker.addListener('mouseover', function () {
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });

            var closeListener = marker.addListener('mouseout', function () {
                infoWindow.close(map, marker);
            });

            marker.addListener('click', function () {
                google.maps.event.addListener(openListener);
                google.maps.event.removeListener(closeListener);
                map.setZoom(16);
                map.setCenter(marker.getPosition());
            });

            map.addListener('click', function () {
                infoWindow.close();
                map.setZoom(14);
                map.setCenter(mapCenter);
            });

            var listaBajo = document.createElement('listaBajo');
            listaBajo.innerHTML = '<p class="lista-bajo">' + name + '</p>';
            legend.appendChild(listaBajo);
            google.maps.event.addDomListener(listaBajo, 'click', function () {
                map.setZoom(16);
                map.setCenter(marker.getPosition());
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });
        }

        function alto(pinfo) {
            var point = new google.maps.LatLng(pinfo.lat, pinfo.lng);
            var name = pinfo.name;
            var icons = {
                url: 'icons/expensive.png',
                scaledSize: new google.maps.Size(24, 30),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(12, 30)
            };
            var marker = new google.maps.Marker({
                position: point,
                map: map,
                title: name,
                icon: icons
            });
            var infoWindow = new google.maps.InfoWindow({
                map: map,
                maxHeight: 260,
                minWidth: 260,
                shadowStyle: 0,
                pixelOffset: new google.maps.Size(0, 35),
                padding: 0,
                borderRadius: 0,
                arrowSize: 9,
                borderWidth: 0,
                borderColor: '#ffffff',
                disableAutoPan: true,
                hideCloseButton: true,
                arrowPosition: 50,
                arrowStyle: 0
            });

            var content = '<div id="infoW-container-value">' +
                '<p class="img-box"><img class="rest-img" src="' + pinfo.img + '"/></p>' +
                '<h3><a href="' + pinfo.link + '" target="_blank">' + pinfo.name + '</a></h3>' +
                '<p class="adress-text">' + pinfo.adress + '</p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.stars + '"/></p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.price + '"/></p>' +
                '<p class="route-box"><a href="' + pinfo.route + '" target="_self"><img class="route-img" src="icons/route.png"/></a></p>' +
                '<p class="moreinfo-box"><a href="' + pinfo.link + '" target="_blank"><img class="moreinfo-img" src="icons/more_info.png"/></a></p>' +
                '</div>'

            var openListener = marker.addListener('mouseover', function () {
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });

            var closeListener = marker.addListener('mouseout', function () {
                infoWindow.close(map, marker);
            });

            marker.addListener('click', function () {
                google.maps.event.addListener(openListener);
                google.maps.event.removeListener(closeListener);
                map.setZoom(16);
                map.setCenter(marker.getPosition());
            });

            map.addListener('click', function () {
                infoWindow.close();
                map.setZoom(14);
                map.setCenter(mapCenter);
            });

            var listaAlto = document.createElement('listaAlto');
            listaAlto.innerHTML = '<p class="lista-alto">' + name + '</p>';
            legend.appendChild(listaAlto);
            google.maps.event.addDomListener(listaAlto, 'click', function () {
                map.setZoom(16);
                map.setCenter(marker.getPosition());
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });

        }

        function simple(pinfo) {
            var point = new google.maps.LatLng(pinfo.lat, pinfo.lng);
            var name = pinfo.name;
            var icons = {
                url: 'icons/normal.png',
                scaledSize: new google.maps.Size(12, 12),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(6, 6)
            };
            var marker = new google.maps.Marker({
                position: point,
                map: map,
                title: name,
                icon: icons
            });
            var infoWindow = new google.maps.InfoWindow({
                map: map,
                maxHeight: 260,
                minWidth: 260,
                shadowStyle: 0,
                pixelOffset: new google.maps.Size(0, 35),
                padding: 0,
                borderRadius: 0,
                arrowSize: 9,
                borderWidth: 0,
                borderColor: '#ffffff',
                disableAutoPan: true,
                hideCloseButton: true,
                arrowPosition: 50,
                arrowStyle: 0
            });

            var openListener = marker.addListener('mouseover', function () {
                infoWindow.open(map, marker);
                infoWindow.setContent('<div id="infoW-container-simple">' +
                    '<h3>' + pinfo.name + '</h3>' +
                    '<p class="adress-text">' + pinfo.adress + '</p>' +
                    '<p class="value-box"><img class="value-img" src="' + pinfo.stars + '"/></p>' +
                    '<p class="value-box"><img class="value-img" src="' + pinfo.price + '"/></p>' +
                    '</div>');
            });

            var closeListener = marker.addListener('mouseout', function () {
                infoWindow.close(map, marker);
            });

            marker.addListener('click', function () {
                google.maps.event.addListener(openListener);
                google.maps.event.removeListener(closeListener);
                map.setZoom(16);
                map.setCenter(marker.getPosition());
            });

            map.addListener('click', function () {
                infoWindow.close();
                map.setZoom(14);
                map.setCenter(mapCenter);
            });

        }

        google.maps.event.addDomListener(window, 'load', initialize);

    </script>
</head>

<body>
    <div id="map-canvas"></div>

    <div id="routeButton">
        <img class="route-icon" src="icons/route.png" />
    </div>

    <div id="legend">
        <h1>LA RUTA
        </h1>
        <h2 class="precio-bajo">
            <img class="rest-marker" src="icons/affordable.png" />PRECIO BAJO</h2>
        <h2 class="precio-alto">
            <img class="rest-marker" src="icons/expensive.png" />PRECIO ALTO</h2>
    </div>

</body>

</html>