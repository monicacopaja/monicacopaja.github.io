<html>

<head>
    <title>RUTA CEVICHE</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link href="css/map.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Muli|Raleway:400,600,800,700,900" rel="stylesheet">
    <script async defer src="https://maps.googleapis.com/maps/api/js?v=quarterly&key=AIzaSyBFEuavnnQ0FewZiYPAW5Eq9PSFs_ozaZQ&callback=initialize"></script>   
</script>
    <script type="text/javascript">
        var directionsDisplay,
            directionsService,
            map;
        var mapCenter = { lat: 41.39, lng: 2.17 };

        function initialize() {
            var lineSymbol = {
                path: google.maps.SymbolPath.CIRCLE,
                fillOpacity: 0.8,
                scale: 2.5
            };
            var directionsService = new google.maps.DirectionsService();
            var directionsDisplay = new google.maps.DirectionsRenderer({
                polylineOptions: {
                    strokeColor: "#808080",
                    strokeOpacity: 0,
                    fillOpacity: 0,
                    icons: [{
                        icon: lineSymbol,
                        offset: '0',
                        repeat: '8px'
                    }],
                },
                markerOptions: {
                    visible: false
                },
            });
            var mapOptions = {
                zoom: 14,
                center: new google.maps.LatLng(mapCenter.lat, mapCenter.lng),
                disableDefaultUI: true,
                backgroundColor: '#000000',
                styles: [
                    { elementType: 'geometry', stylers: [{ color: '#252525' }] },
                    { elementType: 'labels.text.stroke', stylers: [{ visibility: 'off' }] },
                    { elementType: 'labels.text.fill', stylers: [{ color: '#454545' }] },
                    { featureType: 'poi', elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },
                    { featureType: 'poi.park', elementType: 'geometry', stylers: [{ color: '#151515' }] },
                    { featureType: 'road', elementType: 'geometry', stylers: [{ color: '#101010' }] },
                    { featureType: 'road', elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },
                    { featureType: 'transit', elementType: 'geometry', stylers: [{ visibility: 'off' }] },
                    { featureType: 'transit', elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },
                    { featureType: 'transit', elementType: 'labels.text.fill', stylers: [{ visibility: 'off' }] },
                    { featureType: 'water', elementType: 'geometry', stylers: [{ color: '#000000' }] },
                ]
            };

            map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

            var waypts = [{ location: { lat: 41.3867, lng: 2.1968 }, stopover: true }, //Ají : 0
            { location: { lat: 41.3821, lng: 2.1882 }, stopover: true }, //Toya : 1
            { location: { lat: 41.3719, lng: 2.1656 }, stopover: true }, //Lascar : 2
            { location: { lat: 41.3789, lng: 2.1631 }, stopover: true }, //Mistura : 3
            { location: { lat: 41.3744, lng: 2.1545 }, stopover: true }, //Pakta : 4
            { location: { lat: 41.3775, lng: 2.1262 }, stopover: true }, //La Chacana : 5
            { location: { lat: 41.3863, lng: 2.1485 }, stopover: true }, //Panko : 6
            { location: { lat: 41.3904, lng: 2.1598 }, stopover: true }, //Yakumanka : 7
            { location: { lat: 41.3930, lng: 2.1578 }, stopover: true }, //El Dorado : 8
            { location: { lat: 41.4063, lng: 2.1524 }, stopover: true } //Toma Ya : 9
            ];

            var markers = [{ lat: 41.4063, lng: 2.1524, name: 'Toma Ya Street Food', address: 'Nil Fabra, 34-36, Gràcia', img: 'images/map/tomaya.jpg', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'affordable', route: 'routes/tomaya.html', link: 'pages/tomaya.html' },
            { lat: 41.3821, lng: 2.1882, name: 'La Toya', address: 'Balboa, 14, Barceloneta', img: 'images/map/toya.jpg', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'affordable', route: 'routes/toya.html' },
            { lat: 41.3789, lng: 2.1631, name: 'Mistura Barcelona', address: 'Ronda de Sant Antoni, 1-3, San Antoni', img: 'images/map/mistura.jpg', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'affordable', route: 'routes/mistura.html' },
            { lat: 41.3930, lng: 2.1578, name: 'El Dorado Chicken', address: 'Balmes, 122, Eixample', img: 'images/map/dorado.jpg', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'affordable', route: 'routes/dorado.html' },
            { lat: 41.3775, lng: 2.1262, name: 'La Chacana', address: 'Portbou, 49, Sants-Badal', img: 'images/map/chacana.jpg', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'affordable', route: 'routes/chacana.html' },
            { lat: 41.3904, lng: 2.1598, name: 'Yakumanka', address: 'València, 207, Eixample', img: 'images/map/yakumanka.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/yakumanka.html', link: 'pages/yakumanka.html' },
            { lat: 41.3719, lng: 2.1656, name: 'Lascar 74', address: 'Roser, 74, Poble Sec', img: 'images/map/lascar.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/lascar.html' },
            { lat: 41.3863, lng: 2.1485, name: 'Panko', address: 'Viladomat, 249, Eixample', img: 'images/map/panko.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/panko.html' },
            { lat: 41.3744, lng: 2.1545, name: 'Pakta', address: 'Lleida, 5, Poble Sec', img: 'images/map/pakta.jpg', stars: 'icons/stars_5.png', price: 'icons/price_4.png', type: 'expensive', route: 'routes/pakta.html' },
            { lat: 41.3867, lng: 2.1968, name: 'Ají', address: 'Marina, 19, Vila Olímpica', img: 'images/map/aji.jpg', stars: 'icons/stars_5.png', price: 'icons/price_3.png', type: 'expensive', route: 'routes/aji.html' },
            { lat: 41.38537, lng: 2.1457, name: '3D3', address: 'Carrer d\'Entença, 162, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4174564, lng: 2.18156, name: 'A\' Lo Bravo', address: 'Carrer de Trinxant, 119, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.36706, lng: 2.13436, name: 'Ají Panca', address: 'Rambla de Badal, 34, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3691667, lng: 2.10722, name: 'Aji Seco', address: 'Carrer Subur, 18, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4127645, lng: 2.18555, name: 'Akira\'s', address: 'Carrer de la Nació, 27, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3827, lng: 2.13574, name: 'Al Carbon', address: 'Carrer dels Comtes de Bell-Lloc, 143, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40762, lng: 2.17386, name: 'Andino', address: 'Carrer de Còrsega, 589, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40523, lng: 2.14013, name: 'Anormal', address: 'Carrer de Bertran, 28, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3757, lng: 2.10137, name: 'Asu Punto', address: 'Carrer de Toledo, 10, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.36366, lng: 2.13919, name: 'Aukis', address: 'Carrer de la Mare de Déu de Port, 385, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.43981, lng: 2.1775, name: 'Bar Aitor', address: 'Carrer de Santa Engràcia, 25, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.44005, lng: 2.19116, name: 'Benvinguts', address: 'Passeig de Torras i Bages, 86, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37097, lng: 2.11921, name: 'Bar-Café Mas Juventud', address: 'Carrer Mas, 91, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37338, lng: 2.14792, name: 'Barranco Cuina Peruana', address: 'Carrer de Mèxic, 5, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38622, lng: 2.15978, name: 'BierCaB', address: 'Carrer de Muntaner, 55, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38613, lng: 2.1841, name: 'Big Kokka', address: 'Passatge Mercantil, 1, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.3717, lng: 2.12113, name: 'Braseria La Parrillada', address: 'Carrer Progrés, 114, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37161, lng: 2.1234, name: 'Brasería Papito', address: 'Carrer de Rafael Campalans, 85, L\'Hospitalet de Llobregat', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38092, lng: 2.18533, name: 'B-ONE Palau del Mar', address: 'Plaça de Pau Vila, 1, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.536951, lng: 2.44952, name: 'Ca La Ceci', address: 'Av. del Maresme, 327, Mataró', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38015, lng: 2.18946, name: 'Caballa Canalla', address: 'Mercal de la Barceloneta, Barcelona', stars: 'icons/stars_3.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38986, lng: 2.19512, name: 'Café Ninoska', address: 'Av. d\'Icària, 131, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.36863, lng: 2.10867, name: 'Capri', address: 'Carrer Ceravalls, 4, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4159753, lng: 2.18663, name: 'Casa Soria', address: 'Avinguda Meridiana, 211, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.36448, lng: 2.08631, name: 'Cebicheria Puntope', address: 'Carrer Xiprer, 1, local 4, Cornellà de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.39364, lng: 2.15073, name: 'Ceviche 103', address: 'Carrer de Londres, 103, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37805, lng: 2.13491, name: 'Chifa El Retablo de Kelly', address: 'Carrer de Galileu, 85, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.42864, lng: 2.19058, name: 'Chifa El Retablo de Kelly 2', address: 'Carrer Gran de Sant Andreu, 34, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38767, lng: 2.15783, name: 'Cocoroco Barcelona', address: 'Carrer de Muntaner, 83C, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37764, lng: 2.08171, name: 'Cuchara Brava', address: 'Carrer de l’Alcalde Martí Figueras i Castillo, 6, Esplugues de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.44364, lng: 2.18018, name: 'Delicias del Mar', address: 'Carrer de Joaquim Valls, 71, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.41999, lng: 2.18308, name: 'Demonio de los Andes', address: 'Carrer de Biscaia, 428, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4122996, lng: 2.17051, name: 'El Chalaco & El Corralito', address: 'Carrer de los Castillejos, 397, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.425444, lng: 2.17955, name: 'El Limonero', address: 'Carrer d\'Alexandre Galí, 32, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40673, lng: 2.18405, name: 'El Pollon Peruano', address: 'Carrer d\'Aragó, 545, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37402, lng: 2.13646, name: 'El Rocoto', address: 'Carrer d\'Olzinelles, 13, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.41087, lng: 2.18119, name: 'El Ruedo', address: 'Carrer del Rosselló, 540, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4510003, lng: 2.21834, name: 'El Sabor De Mi Tierra', address: 'Carrer de Milà i Fontanals, 124, Santa Coloma de Gramenet', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40848, lng: 2.175, name: 'El Señorio de Perú', address: 'Carrer de Còrsega, 607, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4109, lng: 2.1791, name: 'El Xukís', address: 'Carrer de la Independència, 353, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.36929, lng: 2.13926, name: 'Fogón D Bas', address: 'Carrer de Viladecans, 5, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37785, lng: 2.14474, name: 'Huanchaco Beach', address: 'Carrer de Béjar, 54, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40659, lng: 2.18055, name: 'Imperia', address: 'Carrer de Cartagena, 220, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.41332, lng: 2.18437, name: 'Incanto Cuina Peruana', address: 'Carrer de la Nació, 49, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.42877, lng: 2.18019, name: 'Inka Barcelona', address: 'Carrer d\'Escòcia, 62, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40734, lng: 2.18413, name: 'Inka 2', address: 'Carrer de la Independència, 262, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38151, lng: 2.17775, name: 'Inkawasi', address: 'Carrer dels Templers, 6, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.3717, lng: 2.12111, name: 'Inti Raymi', address: 'Carrer Progrés, 114, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3561768, lng: 2.06956, name: 'Kenko Restaurante Brasería', address: 'Carrer de Pius XIIè, 1, Cornellà de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38788, lng: 2.14438, name: 'Kenko', address: 'Carrer de Calàbria, 280, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.40823, lng: 2.18069, name: 'Kenko II', address: 'Carrer del Dos de Maig, 250, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38082, lng: 2.17734, name: 'Kokka Barcelona', address: 'Carrer d\'Avinyó, 30, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4268204, lng: 2.1858, name: 'Komeridiana', address: 'Avinguda Meridiana, 346, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.61173, lng: 2.2945, name: 'Kuntur - Brasas peruanas', address: 'Paseo de la Montaña, 142, Bajos, Granollers', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.42138, lng: 2.17485, name: 'La Brasa de Oro', address: 'Carrer de Varsòvia, 57, 08041 Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4024, lng: 2.17607, name: 'La Brasa Roja', address: 'Carrer de València, 433, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37813, lng: 2.16949, name: 'La Caleta Latin Food Express', address: 'Rambla del Raval, 18, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40523, lng: 2.19256, name: 'La Cevichería Barra Peruana', address: 'Avinguda Diagonal, 208, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37988, lng: 2.15457, name: 'La Concha Nautica', address: 'Carrer de Calàbria, 103, 08015 Barcelona', stars: 'icons/stars_3.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37577, lng: 2.13982, name: 'La Flor de la Canela', address: 'Carrer de Watt, 8, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38469, lng: 2.14798, name: 'La Limeñita', address: 'Carrer de Provença, 61, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37341, lng: 2.11879, name: 'La Morenaza', address: 'Carrer de Pujós, 25, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.39554, lng: 2.14849, name: 'La Sangucheria', address: 'Travessera de Gràcia, 45, 08021 Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37608, lng: 2.125, name: 'La Turuleca', address: 'Carrer d\'Arizala, 5, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.39578, lng: 2.18197, name: 'Las 4 Estaciones', address: 'Carrer de Ribes, 37, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38193, lng: 2.15185, name: 'Las Tejas', address: 'Carrer de Calàbria, 155, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.39911, lng: 2.15994, name: 'Leche de Tigre', address: 'Carrer de Martínez de la Rosa, 10, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37449, lng: 2.13501, name: 'Lima 72', address: 'Carrer d\'Antoni de Capmany, 72, Barcelona', stars: 'icons/stars_3.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4023, lng: 2.16895, name: 'Lima Limón', address: 'Carrer del Rosselló, 361, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37395, lng: 2.12827, name: 'Los Mundiales', address: 'Carrer de Sugranyes, 38, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38019, lng: 2.15558, name: 'Máncora', address: 'Gran Via de les Corts Catalanes, 479, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37566, lng: 2.16503, name: 'Manzano’s', address: 'Carrer del Comte Borrell, 6, 08015 Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37637, lng: 2.12044, name: 'Masato', address: 'Carrer 11 de Setembre, 27, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.4067, lng: 2.18407, name: 'Miguelón Sabor Peruano', address: 'Carrer d\'Aragó, 545, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38448, lng: 2.15518, name: 'Misky Peruvian Restobar', address: 'Carrer del Comte d\'Urgell, 111, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37988, lng: 2.1547, name: 'Mochica - Calàbria', address: 'Carrer de Calàbria, 103, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3842, lng: 2.15556, name: 'Mochica - Urgell', address: 'Carrer del Comte d\'Urgell, 99, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38745, lng: 2.16043, name: 'Nikkei 103', address: 'Carrer d\'Aribau, 33, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_3.png', type: 'normal' },
            { lat: 41.37229, lng: 2.12076, name: 'Ole Ole Rostiseria', address: 'Carrer Progrés, 98, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4085, lng: 2.19573, name: 'Otro Romero Brasa', address: 'Carrer de Bilbao, 181, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37825, lng: 2.15611, name: 'Panqa', address: 'Carrer de Sepúlveda, 76, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.38546, lng: 2.13996, name: 'Pata Salada', address: 'Carrer del Marquès de Sentmenat, 75, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.40329, lng: 2.17838, name: 'Perucho', address: 'Carrer de Lepant, 254, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4318, lng: 2.18065, name: 'Pikeos 111', address: 'Carrer de Vèlia, 77, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.42645, lng: 2.18621, name: 'Pollo Azul', address: 'Avinguda Meridiana, 342, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37277, lng: 2.10404, name: 'Punta Sal BCN', address: 'Carrer Iberia, 29, L\'Hospitalet de Llobregat', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37294, lng: 2.11598, name: 'Norteño de Chikilin', address: 'Carrer de Vallparda, 46, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4156, lng: 2.17795, name: 'Rico Perú', address: 'Carrer d\'Amèrica, 16, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.39299, lng: 2.16923, name: 'Riko\'s', address: 'Carrer de Roger de Llúria, 54, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4184214, lng: 2.18923, name: 'Sabor Trujillano', address: 'Carrer de Felip II, 41, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37365, lng: 2.14407, name: 'Santa Ceviche', address: 'Carrer d\'Hostafrancs de Sió, 11, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.3630159, lng: 2.11119, name: 'Santa Clara', address: 'Carrer d\'Enric Prat de la Riba, 107, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.37208, lng: 2.10248, name: 'Tentación Criolla', address: 'Carrer Calderón de la Barca, 31, L\'Hospitalet de Llobregat', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.39116, lng: 2.16662, name: 'Terrat', address: 'Passeig de Gràcia, 38-40, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_4.png', type: 'normal' },
            { lat: 41.39783, lng: 2.15728, name: 'The Market Perú', address: 'Carrer Gran de Gràcia, 7, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_2.png', type: 'normal' },
            { lat: 41.37499, lng: 2.10607, name: 'Tumi Cuina Peruana', address: 'Carrer Antiga Travessera, 41-43, L\'Hospitalet de Llobregat', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.38411, lng: 2.13014, name: 'Uchu', address: 'Travessera de les Corts, 221, local 7, Barcelona', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4287803, lng: 2.17689, name: 'What.tapa', address: 'Carrer d\'Escòcia, 130, Barcelona', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.4886738, lng: 2.03855, name: 'Y Sabe a Perú', address: 'Carrer de Víctor Balaguer, local 3, Rubí', stars: 'icons/stars_5.png', price: 'icons/price_1.png', type: 'normal' },
            { lat: 41.5699, lng: 2.0167, name: 'Zona Vip', address: 'Carrer dels Ferroviaris, 0, Bloque 3 Local 1, Terrassa', stars: 'icons/stars_4.png', price: 'icons/price_1.png', type: 'normal' },
            
            ];

            for (i = 0; i <= 4; i++) {
                bajo(markers[i]);
            }

            for (i = 5; i <= 9; i++) {
                alto(markers[i]);
            }

            for (i = 10; i < markers.length; i++) {
                simple(markers[i]);
            }

            var routeButton = document.getElementById('routeButton');
            map.controls[google.maps.ControlPosition.LEFT_TOP].push(routeButton);

            google.maps.event.addDomListener(routeButton, 'click', function () {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var latitude = position.coords.latitude;
                    var longitude = position.coords.longitude;
                    var coords = new google.maps.LatLng(latitude, longitude);
                    var content = '<p class="locationWindow">' + "Tu ubicación" + '</p>';
                    var infoWindow = new google.maps.InfoWindow({ map: map });
                    infoWindow.setPosition(coords);
                    infoWindow.setContent(content);
                    window.setTimeout(function () { infoWindow.close() }, 2000);
                    var icon = {
                        url: 'icons/location.png',
                        scaledSize: new google.maps.Size(24, 30),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(12, 30)
                    };
                    var marker = new google.maps.Marker({
                        position: coords,
                        map: map,
                        title: name,
                        icon: icon
                    });

                    marker.addListener('click', function () {
                        var infoWindow = new google.maps.InfoWindow({ map: map });
                        infoWindow.setPosition(coords);
                        infoWindow.setContent(content);
                    });

                    var createRoute = directionsService.route({
                        origin: coords,
                        destination: coords,
                        waypoints: waypts,
                        optimizeWaypoints: true,
                        travelMode: google.maps.TravelMode.WALKING
                    }, function (response, status) {
                        directionsDisplay.setDirections(response);
                        directionsDisplay.setMap(map);
                    });

                    map.addListener('click', function () {
                        infoWindow.close();
                        map.setZoom(14);
                        map.setCenter(mapCenter);
                        directionsDisplay.setMap(null);
                    });
                });
            });

            var legend = document.getElementById('legend');
            map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(legend);
        }

        function bajo(pinfo) {
            var point = new google.maps.LatLng(pinfo.lat, pinfo.lng);
            var name = pinfo.name;
            var icons = {
                url: 'icons/affordable.png',
                scaledSize: new google.maps.Size(24, 30),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(12, 30)
            };
            var marker = new google.maps.Marker({
                position: point,
                map: map,
                title: name,
                icon: icons
            });
            var infoWindow = new google.maps.InfoWindow({
                map: map,
                maxHeight: 260,
                minWidth: 260,
                shadowStyle: 0,
                pixelOffset: new google.maps.Size(0, 35),
                padding: 0,
                borderRadius: 0,
                arrowSize: 9,
                borderWidth: 0,
                borderColor: '#ffffff',
                disableAutoPan: true,
                hideCloseButton: true,
                arrowPosition: 50,
                arrowStyle: 0
            });

            var content = '<div id="infoW-container-value">' +
                '<p class="img-box"><img class="rest-img" src="' + pinfo.img + '"/></p>' +
                '<h3><a href="' + pinfo.link + '" target="_blank">' + pinfo.name + '</a></h3>' +
                '<p class="address-text">' + pinfo.address + '</p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.stars + '"/></p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.price + '"/></p>' +
                '<p class="route-box"><a href="' + pinfo.route + '" target="_self"><img class="route-img" src="icons/route.png"/></a></p>' +
                '<p class="moreinfo-box"><a href="' + pinfo.link + '" target="_blank"><img class="moreinfo-img" src="icons/more_info.png"/></a></p>' +
                '</div>'

            var openListener = marker.addListener('click', function () {
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });

            var closeListener = marker.addListener('closeclick', function () {
                infoWindow.close(map, marker);
             });

            marker.addListener('click', function () {
                google.maps.event.addListener(openListener);
                google.maps.event.removeListener(closeListener);
                map.setZoom(16);
                map.setCenter(marker.getPosition());
            });

            map.addListener('click', function () {
                infoWindow.close();
                map.setZoom(14);
                map.setCenter(mapCenter);
            });

            var listaBajo = document.createElement('listaBajo');
            listaBajo.innerHTML = '<p class="lista-bajo">' + name + '</p>';
            legend.appendChild(listaBajo);
            google.maps.event.addDomListener(listaBajo, 'click', function () {
                map.setZoom(16);
                map.setCenter(marker.getPosition());
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });
        }

        function alto(pinfo) {
            var point = new google.maps.LatLng(pinfo.lat, pinfo.lng);
            var name = pinfo.name;
            var icons = {
                url: 'icons/expensive.png',
                scaledSize: new google.maps.Size(24, 30),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(12, 30)
            };
            var marker = new google.maps.Marker({
                position: point,
                map: map,
                title: name,
                icon: icons
            });
            var infoWindow = new google.maps.InfoWindow({
                map: map,
                maxHeight: 260,
                minWidth: 260,
                shadowStyle: 0,
                pixelOffset: new google.maps.Size(0, 35),
                padding: 0,
                borderRadius: 0,
                arrowSize: 9,
                borderWidth: 0,
                borderColor: '#ffffff',
                disableAutoPan: true,
                hideCloseButton: true,
                arrowPosition: 50,
                arrowStyle: 0
            });

            var content = '<div id="infoW-container-value">' +
                '<p class="img-box"><img class="rest-img" src="' + pinfo.img + '"/></p>' +
                '<h3><a href="' + pinfo.link + '" target="_blank">' + pinfo.name + '</a></h3>' +
                '<p class="address-text">' + pinfo.address + '</p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.stars + '"/></p>' +
                '<p class="value-box"><img class="value-img" src="' + pinfo.price + '"/></p>' +
                '<p class="route-box"><a href="' + pinfo.route + '" target="_self"><img class="route-img" src="icons/route.png"/></a></p>' +
                '<p class="moreinfo-box"><a href="' + pinfo.link + '" target="_blank"><img class="moreinfo-img" src="icons/more_info.png"/></a></p>' +
                '</div>'

            var openListener = marker.addListener('click', function () {
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });

            var closeListener = marker.addListener('closeclick', function () {
                infoWindow.close(map, marker);
            });

            marker.addListener('click', function () {
                google.maps.event.addListener(openListener);
                google.maps.event.removeListener(closeListener);
                map.setZoom(16);
                map.setCenter(marker.getPosition());
            });

            map.addListener('click', function () {
                infoWindow.close();
                map.setZoom(14);
                map.setCenter(mapCenter);
            });

            var listaAlto = document.createElement('listaAlto');
            listaAlto.innerHTML = '<p class="lista-alto">' + name + '</p>';
            legend.appendChild(listaAlto);
            google.maps.event.addDomListener(listaAlto, 'click', function () {
                map.setZoom(16);
                map.setCenter(marker.getPosition());
                infoWindow.open(map, marker);
                infoWindow.setContent(content);
            });

        }

        function simple(pinfo) {
            var point = new google.maps.LatLng(pinfo.lat, pinfo.lng);
            var name = pinfo.name;
            var icons = {
                url: 'icons/normal.png',
                scaledSize: new google.maps.Size(12, 12),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(6, 6)
            };
            var marker = new google.maps.Marker({
                position: point,
                map: map,
                title: name,
                icon: icons
            });
            var infoWindow = new google.maps.InfoWindow({
                map: map,
                maxHeight: 260,
                minWidth: 260,
                shadowStyle: 0,
                pixelOffset: new google.maps.Size(0, 35),
                padding: 0,
                borderRadius: 0,
                arrowSize: 9,
                borderWidth: 0,
                borderColor: '#ffffff',
                disableAutoPan: true,
                hideCloseButton: true,
                arrowPosition: 50,
                arrowStyle: 0
            });

            var openListener = marker.addListener('click', function () {
                infoWindow.open(map, marker);
                infoWindow.setContent('<div id="infoW-container-simple">' +
                    '<h3>' + pinfo.name + '</h3>' +
                    '<p class="address-text">' + pinfo.address + '</p>' +
                    '<p class="value-box"><img class="value-img" src="' + pinfo.stars + '"/></p>' +
                    '<p class="value-box"><img class="value-img" src="' + pinfo.price + '"/></p>' +
                    '</div>');
            });

            var closeListener = marker.addListener('closeclick', function () {
                infoWindow.close(map, marker);
            });

            marker.addListener('click', function () {
                google.maps.event.addListener(openListener);
                google.maps.event.removeListener(closeListener);
        //        map.setZoom(16);
        //        map.setCenter(marker.getPosition());
            });

            map.addListener('click', function () {
                infoWindow.close();
         //       map.setZoom(14);
         //       map.setCenter(mapCenter);
            });

        }

        google.maps.event.addDomListener(window, 'load', initialize);

    </script>
</head>

<body>
    <div id="map-canvas"></div>

    <div id="routeButton">
        <img class="route-icon" src="icons/route.png" />
    </div>

    <div id="legend">
        <h1>LA RUTA
        </h1>
        <h2 class="precio-bajo">
            <img class="rest-marker" src="icons/affordable.png" />PRECIO BAJO</h2>
        <h2 class="precio-alto">
            <img class="rest-marker" src="icons/expensive.png" />PRECIO ALTO</h2>
    </div>

</body>

</html>